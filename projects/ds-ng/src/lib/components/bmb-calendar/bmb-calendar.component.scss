@use "../../../assets/styles/base/rem" as rem;
@use "../../../assets/styles/base/fonts" as fonts;
@use "../../../assets/styles/base/mixins" as mixins;

.bmb_calendar {
  background-color: RGBA(var(--color-charade-200));
  position: relative;
  overflow: hidden;

  @include mixins.media-query(1000, "min") {
    padding: var(--bmb-spacing-xl);
    background-color: RGBA(var(--color-charade-100));
  }

  &-detail-header {
    display: flex;
    align-items: center;
    gap: rem.rem_calc(8);
    justify-content: center;
    padding: var(--bmb-spacing-n) var(--bmb-spacing-none);
    border-bottom: rem.rem_calc(1) solid RGBA(var(--color-charade-200));
    position: sticky;
    top: 0;
    z-index: 1;
    background: RGBA(var(--color-charade-100));
    @include mixins.media-query(999, "max") {
      display: none;
    }

    h2 {
      @include fonts.font(3, medium);
      font-weight: 400;

      &::first-letter .bmb-first-letter {
        text-transform: capitalize;
      }
    }

    span {
      @include fonts.font(3, medium);
    }
  }

  &-body {
    position: relative;
  }

  &-col {
    flex: 1;
    height: fit-content;

    &-today {
      background-color: RGBA(var(--color-yellow-tint), 0.5);
    }
  }

  &-row-body {
    min-height: rem.rem_calc(60);
    border-bottom: rem.rem_calc(1) solid RGBA(var(--color-charade-200));
  }

  &-week-view,
  &-day-view {
    display: flex;
    justify-content: space-between;
  }

  &-loader {
    display: flex;
    height: 100%;
    position: absolute;
    top: 0;
    width: 100%;
    left: 0;
    background-color: RGBA(var(--color-charade-100), 0.75);
    align-items: center;
    justify-content: center;
    z-index: 1;
    backdrop-filter: blur(rem.rem_calc(1));
    font-size: rem.rem_calc(128);
    color: RGBA(var(--color-mariner-950));

    .bmb_loader-icon {
      animation: rotateAnimation 1s linear infinite;
    }
  }
}

@keyframes rotateAnimation {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(359deg);
  }
}

[data-theme="dark"],
.storybook-dark-theme {
  .bmb_calendar {
    background-color: RGBA(var(--color-charade-900));
    color: RGBA(var(--color-charade-50));

    &-detail-header,
    &-row-body {
      border-bottom-color: RGBA(var(--color-charade-700), 0.75);
    }

    &-detail-header {
      background-color: RGBA(var(--color-charade-900));
    }

    &-loader {
      background-color: RGBA(var(--color-charade-900), 0.75);
    }
  }
}
