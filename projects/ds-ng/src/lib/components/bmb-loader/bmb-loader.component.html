@if (overlay && !errorState) {
  <div class="bmb_loader-overlay"></div>
}
<div
  class="bmb_loader"
  [ngClass]="{
    'bmb_loader-modal': overlay && !errorState,
    'bmb_loader-error': errorState,
  }"
>
  @if (!errorState) {
    <div class="bmb_loader-loading">
      <svg
        width="106"
        height="106"
        viewBox="0 0 106 106"
        class="bmb_loader-icon"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M53 106C45.7567 106 38.9108 104.609 32.4625 101.826C26.0142 99.0437 20.3829 95.2454 15.5687 90.4312C10.7546 85.6171 6.95625 79.9858 4.17375 73.5375C1.39125 67.0892 0 60.2433 0 53C0 45.6683 1.39125 38.8004 4.17375 32.3962C6.95625 25.9921 10.7546 20.3829 15.5687 15.5687C20.3829 10.7546 26.0142 6.95625 32.4625 4.17375C38.9108 1.39125 45.7567 0 53 0C54.5017 0 55.7604 0.507917 56.7762 1.52375C57.7921 2.53958 58.3 3.79833 58.3 5.3C58.3 6.80167 57.7921 8.06042 56.7762 9.07625C55.7604 10.0921 54.5017 10.6 53 10.6C41.2517 10.6 31.2479 14.7296 22.9887 22.9887C14.7296 31.2479 10.6 41.2517 10.6 53C10.6 64.7483 14.7296 74.7521 22.9887 83.0112C31.2479 91.2704 41.2517 95.4 53 95.4C64.7483 95.4 74.7521 91.2704 83.0112 83.0112C91.2704 74.7521 95.4 64.7483 95.4 53C95.4 51.4983 95.9079 50.2396 96.9237 49.2237C97.9396 48.2079 99.1983 47.7 100.7 47.7C102.202 47.7 103.46 48.2079 104.476 49.2237C105.492 50.2396 106 51.4983 106 53C106 60.2433 104.609 67.0892 101.826 73.5375C99.0437 79.9858 95.2454 85.6171 90.4312 90.4312C85.6171 95.2454 80.0079 99.0437 73.6037 101.826C67.1996 104.609 60.3317 106 53 106Z"
          fill="currentColor"
        />
      </svg>
    </div>
  }
  @if (errorState) {
    <div class="bmb_loader-error-icon">
      <bmb-icon icon="wifi_off" class="bmb_loader-icon" />
    </div>
  }
  @if (title) {
    <div class="bmb_loader-title">{{ title }}</div>
  }
  @if (subtitle) {
    <div class="bmb_loader-subtitle">{{ subtitle }}</div>
  }

  @if (errorState && actions) {
    <div class="bmb_loader-error-actions">
      <button
        bmbButton
        appearance="primary"
        size="large"
        (click)="handleButtonPrimary()"
      >
        {{ buttonPrimary }}
      </button>
      <button
        bmbButton
        appearance="secondary-outlined"
        size="large"
        (click)="handleButtonSecondary()"
      >
        {{ buttonSecondary }}
      </button>
    </div>
  }
</div>
