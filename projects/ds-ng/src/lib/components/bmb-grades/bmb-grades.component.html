<ng-template #detailContent>
  @for (partial of partials; track $index) {
    <section
      bmbLayout
      margin="none"
      justify="spaceBetween"
      [dynamicCols]="true"
    >
      <span class="bmb_grades-title" bmbLayoutItem>{{ partial.title }}</span>
      <bmb-grade-value
        [score]="partial.score"
        type="partial-grade"
        bmbLayoutItem
      />
    </section>
    @if ($index < partials.length - 1) {
      <bmb-divider [type]="'simple'" />
    }
  }
</ng-template>

<section class="bmb_grades">
  <bmb-header-mobile
    [text]="getGradesTitle()"
    iconLeft="close"
    [iconRight]="getCalendarIcon()"
    (onIconLeftClick)="handleLeftGradesClick($event)"
    (onIconRightClick)="handleRightGradesClick()"
  >
    <bmb-chevron-title-selector
      [title]="getTitle()"
      leadingIcon="chevron_left"
      trailingIcon="chevron_right"
      (onLeadingClick)="handleLeftPeriodClick()"
      (onTrailingClick)="handleRightPeriodClick()"
    />
    <bmb-container class="bmb_grades-summary" [isHidden]="!showPrincipalDetail">
      <section
        class="bmb_grades-summary-container"
        bmbLayout
        margin="none"
        justify="spaceAround"
        [dynamicCols]="true"
      >
        <bmb-focus-element
          bmbLayoutItem
          [number]="getAccreditedClasses()"
          title="Materias Acreditadas"
          [isNormal]="true"
          [isNonFocused]="true"
        />
        <bmb-focus-element
          bmbLayoutItem
          [number]="getPeriodAverage()"
          title="Promedio Semestre"
        />
        <bmb-focus-element
          bmbLayoutItem
          [number]="getServiceHours()"
          title="Horas Servicio"
          [isNormal]="true"
          [isNonFocused]="true"
        />
      </section>
    </bmb-container>
  </bmb-header-mobile>
  @for (element of getElements(); track $index) {
    <bmb-container-button
      [title]="getDetailTitle(element)"
      [subtitle]="getDetailSubtitle(element)"
      [score]="getDetailScore(element)"
      iconLeft="chevron_left"
      iconRight="chevron_right"
      [setButtonTemplate]="true"
      (onButton)="handleDetails(element)"
    />
  }
</section>
