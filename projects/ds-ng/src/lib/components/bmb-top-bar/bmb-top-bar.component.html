<header class="bmb_top-bar">
  @if (positionButtonMenu === "left") {
    <div class="bmb_top-bar-button-section" [ngClass]="getMenuButtonClasses()">
      <button
        class="bmb_top-bar-button-menu"
        bmbButton
        (click)="handleMobileMenuClick()"
      >
        <bmb-icon icon="menu" class="bmb_top-bar-button-menu-menu" />
        <bmb-icon icon="close" class="bmb_top-bar-button-menu-close" />
      </button>
    </div>
  }
  <figure class="bmb_top-bar-logo-section">
    @if (mitec) {
      <picture>
        <source media="(min-width: 1000px)" [srcset]="image" />
        <source [srcset]="mobileImage" />
        <img
          style="width: 30px"
          [src]="image"
          alt="TEC de Monterrey"
          loading="lazy"
        />
      </picture>
    } @else {
      <picture>
        <source media="(min-width: 1000px)" [srcset]="image" />
        <source [srcset]="mobileImage" />
        <img
          src="/assets/images/tec-logo-mob.svg"
          alt="TEC de Monterrey"
          loading="lazy"
        />
      </picture>
    }
  </figure>
  <nav class="bmb_top-bar-nav" [ngClass]="getMenuClasses()">
    @if (appName !== "") {
      <li class="bmb_top-bar-app-name">
        <h1>{{ appName }}</h1>
        @if (appSubTitle !== "" && !mitec) {
          <span>{{ appSubTitle }}</span>
        }
      </li>
    }
    <ul class="bmb_top-bar-nav-content">
      <ng-content></ng-content>
    </ul>
    @if (userInformation) {
      <li>
        <bmb-top-bar-user-section
          [mitec]="mitec"
          [userInformation]="userInformation"
          [assigmentNotification]="assigmentNotification"
          [notificationNotification]="notificationNotification"
        />
      </li>
    }
  </nav>
  <div class="bmb_top-bar-always-visible-content">
    @if (userInformation && hasLogoutButton) {
      <button
        class="bmb_top-bar-logoff"
        bmbButton
        appearance="secondary-filled"
        (click)="handleLogOutClick($event)"
      >
        Salir
      </button>
    }

    @if (showLang) {
      <bmb-select (onValueChange)="handleLangChange($event)" [value]="lang">
        <div class="bmb_top-bar-lang" selectTemplate>
          <figure class="bmb_top-bar-lang-flag">
            <img [src]="getFlag(lang)" [alt]="getCountryName(lang)" />
          </figure>
          <span>{{ getCountryName(lang) }}</span>
        </div>
        <bmb-select-item value="es">
          <div class="bmb_top-bar-lang">
            <figure class="bmb_top-bar-lang-flag">
              <img [src]="getFlag('es')" [alt]="getCountryName('es')" />
            </figure>
            <span>{{ getCountryName("es") }}</span>
          </div>
        </bmb-select-item>
        <bmb-select-item value="en">
          <div class="bmb_top-bar-lang">
            <figure class="bmb_top-bar-lang-flag">
              <img [src]="getFlag('en')" [alt]="getCountryName('en')" />
            </figure>
            <span>{{ getCountryName("en") }}</span>
          </div>
        </bmb-select-item>
      </bmb-select>
    }
  </div>
  @if (positionButtonMenu === "right") {
    <div class="bmb_top-bar-button-section">
      <button
        class="bmb_top-bar-button-menu"
        bmbButton
        icon="menu"
        (click)="handleMobileMenuClick()"
      ></button>
    </div>
  }
</header>
