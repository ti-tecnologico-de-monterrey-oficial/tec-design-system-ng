<ng-template #commonContent>
  @if (isImage(icon())) {
    <figure class="bmb_interactive_icon-box">
      <img [src]="icon()" [alt]="title()" class="bmb_interactive_icon-image" />
    </figure>
  } @else {
    <span class="bmb_interactive_icon-box">
      <bmb-icon class="bmb_interactive_icon-icon" [icon]="icon()" />
      <span class="bmb_interactive_icon-label" *ngIf="label">{{
        label()
      }}</span>
    </span>
  }
  <span class="bmb_interactive_icon-text">
    <span class="bmb_interactive_icon-title" *ngIf="title">{{ title() }}</span>
    <span
      class="bmb_interactive_icon-description"
      *ngIf="description() && horizontal()"
    >
      {{ description() }}
    </span>
  </span>
</ng-template>

@if (setButtonTemplate()) {
  <button
    [ngClass]="getClasses()"
    [class.bmb_interactive_icon-horizontal]="horizontal()"
    (click)="handleClick()"
  >
    <ng-container *ngTemplateOutlet="commonContent" />
  </button>
} @else if (isExternalLink(link() || "")) {
  <a
    [ngClass]="getClasses()"
    [class.bmb_interactive_icon-horizontal]="horizontal()"
    [href]="link()"
    [target]="target() || '_blank'"
    rel="noopener noreferrer"
  >
    <ng-container *ngTemplateOutlet="commonContent" />
  </a>
} @else {
  <a
    [ngClass]="getClasses()"
    [class.bmb_interactive_icon-horizontal]="horizontal()"
    [routerLink]="link()"
    routerLinkActive="active-link"
    [routerLinkActiveOptions]="{ exact: true }"
  >
    <ng-container *ngTemplateOutlet="commonContent" />
  </a>
}
